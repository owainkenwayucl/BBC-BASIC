   10 CLS                    
   20 PRINT "Owain's Functional Calculator"
   30 PRINT "============================="
   40 PRINT""
   50 REM VARIABLE SET UP.
   60 PRINT "Please enter vars [DEFAULT]:"
   70 INPUT "Xmax [ 2.0]: " SXMAX$
   80 LET XMAX = 2.0
   90 IF SXMAX$ <> "" THEN XMAX=EVAL(SXMAX$)
  100 INPUT "Xmin [-2.0]: " SXMIN$
  110 LET XMIN = -2.0
  120 IF SXMIN$ <> "" THEN XMIN=EVAL(SXMIN$)
  130 INPUT "Ymax [ 2.0]: " SYMAX$
  140 LET YMAX = 2.0
  150 IF SYMAX$ <> "" THEN YMAX=EVAL(SYMAX$)
  160 INPUT "Ymin [-2.0]: " SYMIN$
  170 LET YMIN = -2.0
  180 IF SYMIN$ <> "" THEN YMIN=EVAL(SYMIN$)
  190 REM NC200 SCREEN IS 480X128
  200 INPUT "Xres [239]: " SXRES$
  210 LET XRES = 239
  220 IF SXRES$ <> "" THEN XRES=EVAL(SXRES$)
  230 INPUT "Yres [127]: " SYRES$
  240 LET YRES = 127
  250 IF SYRES$ <> "" THEN YRES=EVAL(SYRES$)
  260 LET SHIFT = 480 - XRES
  270 INPUT "Function [Y=X] Y=" SFN$
  280 LET YFN$ = "X"
  290 IF SFN$ = "EXIT" THEN GOTO 560
  300 IF SFN$ <> "" THEN YFN$ = SFN$
  310 REM PLOT AXIS
  320 LET SHIFT = 480 - XRES
  330 IF XMAX > 0 AND XMIN <=0 THEN
  340 LET ZEROX = (((-1*XMIN)/(XMAX-XMIN))*XRES) + SHIFT
  350 PLOT 4,ZEROX,0
  360 PLOT 5,ZEROX,127
  370 GOTO 390
  380 ELSE
  390 IF YMAX > 0 AND YMIN <=0 THEN
  400 LET ZEROY = ((-1*YMIN)/(YMAX-YMIN))*YRES
  410 PLOT 4,SHIFT,ZEROY
  420 PLOT 5,479,ZEROY
  430 GOTO 450
  440 ELSE
  450 REM MAIN LOOP
  460 FOR I = 1 TO XRES
  470   X = ((I/XRES) * (XMAX-XMIN)) + XMIN
  480   Y=EVAL(YFN$)
  490   PY = ((Y-YMIN)/(YMAX-YMIN)) * YRES - 1
  500   REM FIX INTEGER ROUNDING
  510   IF (PY - INT(PY)) >=0.5 THEN PY = PY + 1
  520   IF I=1 THEN PLOT 4,(I-1)+SHIFT,PY
  530   PLOT 5,(I-1)+SHIFT, PY
  540 NEXT I
  550 GOTO 270
  560 END
